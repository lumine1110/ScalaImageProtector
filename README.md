# 🤖 ScalaImageProtector 🛡️

**AIの力でプライバシーを守る！** 
画像内の**数字のみ**を自動的に検出し、スマートにぼかし処理（マスキング）を行うScalaアプリケーションです。

## ✨ 特徴

*   **🎯 ピンポイント検出**: 高度なOCRエンジン（Tesseract）が、画像内のテキストから**数字だけ**を正確に特定します。英字（例: "Test"）はスルーして、大切な数字だけを隠します。
*   **🧠 AIによる高精度認識**:
    *   **自動最適化**: 大津の二値化アルゴリズムが、画像の明るさに合わせて最適な設定を自動で判断。
    *   **文脈理解**: 単なる形合わせではなく、文字の並びや文脈を理解して位置を特定するため、複雑なレイアウトでも安心です。
*   **🔒 プライバシー保護**: 検出された数字領域には、強力なガウシアンブラー（ぼかし）を適用。誰にも読めない状態にします。
*   **⚡ 自動テスト生成**: 面倒な準備は不要！実行時にテスト画像を自動生成し、すぐにAIの実力を試せます。
*   **✅ 自己検証機能**: 処理後の画像をAIが再チェック。「本当に消えたかな？」と心配する必要はありません。

## 🛠️ 必要要件

*   Scala 3.3.1 🟣
*   sbt 🔨
*   Java Development Kit (JDK) 11以上 ☕
*   インターネット接続 🌐（初回のみ、AIの学習データをダウンロードします）

## 📚 使用ライブラリ

*   **JavaCV (OpenCV)** 👁️: 画像処理のスペシャリスト（読み込み、加工、ぼかし）
*   **Tesseract** 📖: 文字を読むAI（OCR）

## 🚀 セットアップと実行

1.  プロジェクトのルートディレクトリで、以下の魔法のコマンドを唱えてください：

    ```bash
    sbt run
    ```

2.  **初回実行時**:
    *   `input` フォルダにテスト画像（`test_1.jpg` 〜 `test_3.jpg`）が自動生成されます 🖼️
    *   `tessdata` フォルダにAIの脳（学習データ `eng.traineddata`）がダウンロードされます 🧠

3.  **処理完了後**:
    *   `output` フォルダに、数字部分が魔法のようにぼかされた画像（`masked_test_*.jpg`）が保存されます ✨
    *   コンソールに処理結果と、AIによる検証結果（`[OK]` または `[警告]`）が表示されます 📝

## 📂 プロジェクト構成

*   `src/main/scala/`
    *   `Main.scala` 🎬: アプリケーションの監督。全体の流れと最終チェックを担当。
    *   `OcrService.scala` 🤖: 文字を読むAIの頭脳。
    *   `ImageProcessor.scala` 🎨: 画像を加工する職人。
    *   `FileUtil.scala` 🗂️: ファイル整理とテスト準備のサポーター。

## ⚙️ カスタマイズ

*   **ぼかしの強さ**: `ImageProcessor.scala` の `maskRegion` メソッド内の数値をいじると、ぼかし具合が変わります 🌫️
*   **認識対象**: `OcrService.scala` の `getDigitRegions` メソッド内の正規表現（現在は `\\d`）を変えれば、数字以外も隠せます 🔡

## 📜 ライセンス

このプロジェクトはMITライセンスの下で公開されています。自由に使ってください！ 🕊️